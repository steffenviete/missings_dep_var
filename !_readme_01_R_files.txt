2a.) Notes on how to run the R-files in this replication package:

i.) To understand why this replication package will not replicate the exact same results as in the paper, please read !readme-data.txt.
ii.) The main files rely on access to !ikt2004_anonym_V4.csv in the folder "data"

iii.) To run them, please adjust the projectpath in the following four files and then run them one after another: 

f1.) 01_CheckInstall_Packages_Define_Path 
	checks whether the required packages are installed
	installs missing packages (if any)
f2.) imputation/multiple_imputation_data.R --> 
	# FIXME: please set the correct path in line 15 to 17
	imputes data based on IDout_sample_anonym.csv 
	required as input for main_results	
f3.) main_results/main_results.R --> 
	# FIXME: please set correct path in line 15 to 17
	returns the main results (Tables 1, 2 3, 4, 5 and Figure 1)
	imports multiple_imputation_estimation.R
f4.) simulation/Simulation_parallel.R -->
	# FIXME: please adjust the path
	returns Table 6
	# NOTE: this file requires parallel computing for reasonable runtime.
f5.) lagged_values/main_panel_replication.R --> 
	provided for completeness. Code will not run through
		- lagged_values/main_panel_replication.R --> generates Table C1
		- lagged_values/main_panel_laggeed_values_as_control.R --> generates Table C2 and C3.
	# NOTE: code will not run through because the input data are confidential 
	# NOTE: this code would generate tables C1-C3, but it will crash without suitable data. 
	# NOTE: As a result, tables C1-C3 cannot be replicated, 


2b.) Notes on which file replicates which table:

Table 1: main_results/main_results.R (after running preparatory files: cf. f1 and f2 in point 2a)
Table 2: main_results/main_results.R (after running preparatory files: cf. f1 and f2 in point 2a)
Table 3: main_results/main_results.R (after running preparatory files: cf. f1 and f2 in point 2a)
Table 4: main_results/main_results.R (after running preparatory files: cf. f1 and f2 in point 2a)
Table 5: main_results/main_results.R (after running preparatory files: cf. f1 and f2 in point 2a)
Table 6: simulation/Simulation_v10_parallel.R (# NOTE: requires parallel computing)
Figure 1: main_results/main_results.R (after running preparatory files: cf. f1 and f2 in point 2a)
Table C1: data not included in replication package (lagged_values/main_panel_replication.R )
Table C2: data not included in replication package (lagged_values/main_panel_laggeed_values_as_control.R)
Table C3: data not included in replication package (lagged_values/main_panel_laggeed_values_as_control.R)


2c.) Overview over all R-Files and the Output Folders in this package:

01_CheckInstall_Packages_Define_Path.R --> the packages required to run this package are "ggplot2", "stats", "splines", "MASS", "crs", "sem", "stargazer", "AER", "xtable", "fBasics", "mi", "Amelia", the package installer installs those package unless they are already installed on your system.

data:
	- contains the synthetic data which is included to provide a workable version of the code

	files:
	- !ikt2004_anonym_V4.csv --> artificial sample used for executing the code which produces the main results (Cross-Section 2004)
	- imputed_sample.rda --> imputed samples obtained by running ./imputation/multiple_imputation_data.R on the synthetic data 

Figures_output:
	- stores printed figure
	
	files:
	- rplot --> Figure 1 in Paper


imputations:
	- includes code used to impute data and code which performs estimation on the imputed data
	
	files:
	- multiple_imputation_data.R --> imputes data based on IDout_sample_anonym.csv 
	- multiple_imputation_estimation.R --> code is imported by main_results.R and runs the estimation on the imputed data


main results:
	run R code to produce the main results; imports multiple_imputation_estimation.R

	files:
	- main_results --> returns the main results (Tables 1, 2 3, 4, 5 and Figure 1)


	
lagged_values:
	performs estimation on panel data which includes information on firms' lagged outsourcing activity (for 2002)
	
	files:
	- main_panel_replication.R --> generates Table C1
	- main_panel_laggeed_values_as_control.R --> generates Table C2 and Table C3

simulation:
	contains code for the Monte Carlo Simulation
	
	files:
	- Simulation_parallel.R --> generates Table MC_results_table_five_percent_nominal_value (Table 6 in the paper)


Tables_output:
	contains all tables generated by the code above. 


Final_Output_in_Paper:
	This replication file also contains tables obtained when running scripts using the original data. The contents of the Tables_output folder will change once you run the sript using the artificial data.


Important Note!: In order to run the scripts, you need to set the projectpath variable to your directory and comment/uncomment relevant lines, depending on which version of the data you want to use.
